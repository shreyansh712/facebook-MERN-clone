(this["webpackJsonpfb-mern-frontend"]=this["webpackJsonpfb-mern-frontend"]||[]).push([[0],{123:function(e,a,t){},124:function(e,a,t){},125:function(e,a,t){},126:function(e,a,t){},127:function(e,a,t){},128:function(e,a,t){},129:function(e,a,t){},130:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(20),c=t.n(l),o=(t(87),t(10)),i=(t(88),t(89),t(29)),s=t.n(i),m=t(35),u=(t(91),t(147)),p=t(146),d=t(54),_=t.n(d),E=t(55),f=t.n(E),g=t(56),h=t.n(g),v=Object(n.createContext)(),b=function(e){var a=e.reducer,t=e.initialState,l=e.children;return r.a.createElement(v.Provider,{value:Object(n.useReducer)(a,t)},l)},w=function(){return Object(n.useContext)(v)},k=t(23),N=t.n(k),y=(N.a.initializeApp({apiKey:"AIzaSyCv2BlJFA6O3d-ehPEnBSlZ_fsyI-mcxLs",authDomain:"fb-mern-aa83a.firebaseapp.com",projectId:"fb-mern-aa83a",storageBucket:"fb-mern-aa83a.appspot.com",messagingSenderId:"983425013758",appId:"1:983425013758:web:fb498e7c9039d4322ed2af",measurementId:"G-EXCRZGGZC7"}),N.a.auth()),S=new N.a.auth.GoogleAuthProvider,j=(N.a.firestore(),t(48)),I=t.n(j).a.create({baseURL:"https://fb-mern-by-shreyansh.herokuapp.com"}),O=t(49),C=t.n(O),P=function(){var e=Object(n.useState)(""),a=Object(o.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(""),i=Object(o.a)(c,2),d=(i[0],i[1]),E=Object(n.useState)(null),g=Object(o.a)(E,2),v=g[0],b=g[1],k=w(),N=Object(o.a)(k,2),y=N[0].user;N[1];console.log(y);var S=function(){var e=Object(m.a)(s.a.mark((function e(a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),v?((n=new C.a).append("file",v,v.name),I.post("/upload/image",n,{headers:{accept:"application/json","Accept-Language":"en-US,en;q=0.8","Content-Type":"multipart/form-data; boundary=".concat(n._boundary)}}).then((function(e){console.log(e.data);var a={text:t,imgName:e.data.filename,user:y.displayName,avatar:y.photoURL,timestamp:Date.now()};console.log(a),j(a)}))):(r={text:t,user:y.displayName,avatar:y.photoURL,timestamp:Date.now()},console.log(r),j(r)),d(""),l(""),b(null);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),j=function(){var e=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.post("upload/post",a).then((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"messageSender"},r.a.createElement("div",{className:"messageSender__top"},r.a.createElement(u.a,{src:y.photoURL}),r.a.createElement("form",null,r.a.createElement("input",{type:"text",className:"messageSender__input",placeholder:"What's on your mind?",value:t,onChange:function(e){return l(e.target.value)}}),r.a.createElement(p.a,{type:"file",className:"messageSender__fileSelector",onChange:function(e){e.target.files[0]&&b(e.target.files[0])}}),r.a.createElement("button",{onClick:S,type:"submit"},"Hidden Submit"))),r.a.createElement("div",{className:"messageSender__bottom"},r.a.createElement("div",{className:"messageSender__option"},r.a.createElement(_.a,{style:{color:"red"}}),r.a.createElement("h3",null,"Live Video")),r.a.createElement("div",{className:"messageSender__option"},r.a.createElement(f.a,{style:{color:"green"}}),r.a.createElement("h3",null,"Photo/Video")),r.a.createElement("div",{className:"messageSender__option"},r.a.createElement(h.a,{style:{color:"orange"}}),r.a.createElement("h3",null,"Feeling/Activity"))))},x=(t(123),t(57)),L=t.n(x),A=t(58),R=t.n(A),F=t(59),U=t.n(F),B=t(32),M=t.n(B),z=t(60),D=t.n(z),G=function(e){var a=e.profilePic,t=e.imgName,n=e.username,l=e.timestamp,c=e.message;return console.log(l),r.a.createElement("div",{className:"post"},r.a.createElement("div",{className:"post__top"},r.a.createElement(u.a,{src:a,className:"post__avatar"}),r.a.createElement("div",{className:"post__topInfo"},r.a.createElement("h3",null,n),r.a.createElement("p",null,new Date(parseInt(l)).toUTCString()))),r.a.createElement("div",{className:"post__bottom"},r.a.createElement("p",null,c)),t?r.a.createElement("div",{className:"post__image"},r.a.createElement("img",{src:"http://localhost:9000/retrieve/image/single?name=".concat(t)})):console.log("DEBUG >>> no image here"),r.a.createElement("div",{className:"post__options"},r.a.createElement("div",{className:"post__option"},r.a.createElement(L.a,null),r.a.createElement("p",null,"Like")),r.a.createElement("div",{className:"post__option"},r.a.createElement(R.a,null),r.a.createElement("p",null,"Comment")),r.a.createElement("div",{className:"post__option"},r.a.createElement(U.a,null),r.a.createElement("p",null,"Share")),r.a.createElement("div",{className:"post__option"},r.a.createElement(D.a,null),r.a.createElement(M.a,null))))},T=(t(124),function(e){var a=e.image,t=e.profileSrc,n=e.title;return r.a.createElement("div",{style:{backgroundImage:"url(".concat(a,")")},className:"story"},r.a.createElement(u.a,{src:t,className:"story__avatar"}),r.a.createElement("h4",null,n))}),V=(t(125),function(){return r.a.createElement("div",{className:"storyReel"},r.a.createElement(T,{image:"https://upload.wikimedia.org/wikipedia/commons/7/70/05QE4Lo7K80.jpg",profileSrc:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/A%24AP_Rocky_UIT_2013_%28cropped%29_%28cropped%29.jpg/375px-A%24AP_Rocky_UIT_2013_%28cropped%29_%28cropped%29.jpg",title:"A$AP Rocky"}),r.a.createElement(T,{image:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Basket_Ball_Ground_PUP.jpg/1024px-Basket_Ball_Ground_PUP.jpg",profileSrc:"https://upload.wikimedia.org/wikipedia/commons/f/f7/LeBron_James_2.jpg",title:"LeBron James"}),r.a.createElement(T,{image:"https://upload.wikimedia.org/wikipedia/commons/9/9a/Soyuz_TMA-9_launch.jpg",profileSrc:"https://upload.wikimedia.org/wikipedia/commons/e/ed/Elon_Musk_Royal_Society.jpg",title:"Elon Musk"}),r.a.createElement(T,{image:"https://upload.wikimedia.org/wikipedia/commons/f/fc/Motera.jpg",profileSrc:"https://upload.wikimedia.org/wikipedia/commons/7/7c/The_President%2C_Shri_Pranab_Mukherjee_presenting_the_Padma_Shri_Award_to_Shri_Virat_Kohli%2C_at_a_Civil_Investiture_Ceremony%2C_at_Rashtrapati_Bhavan%2C_in_New_Delhi_on_March_30%2C_2017_%28cropped%29.jpg",title:"Virat Kohli"}))}),J=t(61),K=new(t.n(J).a)("07f4d6b841e7ccf6aa69",{cluster:"us2"}),W=function(){var e=Object(n.useState)(""),a=Object(o.a)(e,2),t=(a[0],a[1],Object(n.useState)([])),l=Object(o.a)(t,2),c=l[0],i=l[1],s=function(){I.get("/retrieve/posts").then((function(e){console.log(e.data),i(e.data)}))};return Object(n.useEffect)((function(){K.subscribe("posts").bind("inserted",(function(e){s()}))}),[]),Object(n.useEffect)((function(){s()}),[]),r.a.createElement("div",{className:"feed"},r.a.createElement(V,null),r.a.createElement(P,null),c.map((function(e){return r.a.createElement(G,{profilePic:e.avatar,message:e.text,timestamp:e.timestamp,imgName:e.imgName,username:e.user})})))},Z=(t(126),t(62)),$=t.n(Z),q=t(63),H=t.n(q),Q=t(64),X=t.n(Q),Y=t(65),ee=t.n(Y),ae=t(66),te=t.n(ae),ne=t(67),re=t.n(ne),le=t(144),ce=t(68),oe=t.n(ce),ie=t(69),se=t.n(ie),me=t(70),ue=t.n(me),pe=t(71),de=t.n(pe),_e=function(){var e=w(),a=Object(o.a)(e,2),t=a[0].user;a[1];return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header__left"},r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Facebook_Logo_%282019%29.png/1200px-Facebook_Logo_%282019%29.png",alt:"Facebook logo"})),r.a.createElement("div",{className:"header__input"},r.a.createElement($.a,null),r.a.createElement("input",{placeholder:"Search Facebook",type:"text"})),r.a.createElement("div",{className:"header__center"},r.a.createElement("div",{className:"header__option header__option--active"},r.a.createElement(H.a,{fontsize:"large"})),r.a.createElement("div",{className:"header__option"},r.a.createElement(X.a,{fontsize:"large"})),r.a.createElement("div",{className:"header__option"},r.a.createElement(ee.a,{fontsize:"large"})),r.a.createElement("div",{className:"header__option"},r.a.createElement(te.a,{fontsize:"large"})),r.a.createElement("div",{className:"header__option"},r.a.createElement(re.a,{fontsize:"large"}))),r.a.createElement("div",{className:"header__right"},r.a.createElement("div",{className:"header__info"},r.a.createElement(u.a,{src:t.photoURL}),r.a.createElement("h4",null,t.displayName)),r.a.createElement(le.a,null,r.a.createElement(oe.a,null)),r.a.createElement(le.a,null,r.a.createElement(se.a,null)),r.a.createElement(le.a,null,r.a.createElement(ue.a,null)),r.a.createElement(le.a,null,r.a.createElement(de.a,null))))},Ee=t(145),fe=(t(127),t(36)),ge="SET_USER",he=function(e,a){switch(console.log(a),a.type){case ge:return Object(fe.a)(Object(fe.a)({},e),{},{user:a.user});default:return e}},ve=function(){var e=w(),a=Object(o.a)(e,2),t=(a[0],a[1]);return r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"login__logo"},r.a.createElement("img",{src:"https://www.iconfinder.com/data/icons/social-messaging-ui-color-shapes-2-free/128/social-facebook-2019-circle-512.png",alt:"fb circle"}),r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/89/Facebook_Logo_%282019%29.svg/1280px-Facebook_Logo_%282019%29.svg.png",alt:"fb text"})),r.a.createElement(Ee.a,{type:"submit",onClick:function(){y.signInWithPopup(S).then((function(e){console.log(e),t({type:ge,user:e.user})})).catch((function(e){return alert(e.message)}))}},"Sign In"))},be=(t(128),t(129),function(e){var a=e.src,t=e.Icon,n=e.title;return r.a.createElement("div",{className:"sidebarRow"},a&&r.a.createElement(u.a,{src:a}),t&&r.a.createElement(t,null),r.a.createElement("p",null,n))}),we=t(72),ke=t.n(we),Ne=t(73),ye=t.n(Ne),Se=t(74),je=t.n(Se),Ie=t(75),Oe=t.n(Ie),Ce=t(76),Pe=t.n(Ce),xe=t(77),Le=t.n(xe),Ae=function(){var e=w(),a=Object(o.a)(e,2),t=a[0].user;a[1];return r.a.createElement("div",null,r.a.createElement(be,{src:t.photoURL,title:t.displayName}),r.a.createElement(be,{Icon:ke.a,title:"COVID-19 Information Center"}),r.a.createElement(be,{Icon:ye.a,title:"Pages"}),r.a.createElement(be,{Icon:je.a,title:"Friends"}),r.a.createElement(be,{Icon:Oe.a,title:"Messenger"}),r.a.createElement(be,{Icon:Pe.a,title:"Marketplace"}),r.a.createElement(be,{Icon:Le.a,title:"Videos"}),r.a.createElement(be,{Icon:M.a,title:"More"}))},Re=function(){return r.a.createElement("div",{className:"widgets"},r.a.createElement("iframe",{src:"https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2FScuderiaFerrari%2F&tabs=timeline&width=340&height=1500&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=true&appId",width:"340",height:"1500",style:{border:"none",overflow:"hidden"},scrolling:"no",frameborder:"0",allowfullscreen:"true",allow:"encrypted-media"}))};var Fe=function(){var e=w(),a=Object(o.a)(e,2),t=a[0].user;return a[1],r.a.createElement("div",{className:"App"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(_e,null),r.a.createElement("div",{className:"app__body"},r.a.createElement(Ae,null),r.a.createElement(W,null),r.a.createElement(Re,null))):r.a.createElement(ve,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,{initialState:{user:null},reducer:he},r.a.createElement(Fe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},82:function(e,a,t){e.exports=t(130)},87:function(e,a,t){},88:function(e,a,t){},89:function(e,a,t){},91:function(e,a,t){}},[[82,1,2]]]);
//# sourceMappingURL=main.f71ca0af.chunk.js.map